{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport styles from \"./styles\";\nimport { useNavigation } from '@react-navigation/native';\nimport { db } from \"../../firebase\";\nimport { ref, onValue } from 'firebase/database';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar EventBox = function EventBox(_ref) {\n  var title = _ref.title,\n    description = _ref.description,\n    publisher = _ref.publisher,\n    likes = _ref.likes,\n    picture = _ref.picture;\n  var navigation = useNavigation();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedEvent = _useState4[0],\n    setSelectedEvent = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    todoData = _useState6[0],\n    setTodoData = _useState6[1];\n  useEffect(function () {\n    var postCountRef = ref(db, 'posts/');\n    onValue(postCountRef, function (snapshot) {\n      var data = snapshot.val();\n      var newPost = Object.keys(data).map(function (key) {\n        return _objectSpread({\n          id: key\n        }, data[key]);\n      });\n      console.log(newPost);\n      setTodoData(newPost);\n    });\n  }, []);\n  return _jsx(_Fragment, {\n    children: todoData.map(function (item, index) {\n      return _jsxs(TouchableOpacity, {\n        style: styles.boxContainer,\n        onPress: function onPress() {\n          return setModalVisible(true);\n        },\n        children: [_jsxs(View, {\n          style: styles.profileContainer,\n          children: [_jsx(Image, {\n            source: {\n              uri: item.userPic\n            },\n            style: styles.profileImage\n          }), _jsx(Text, {\n            style: styles.publisherName,\n            children: item.user\n          })]\n        }), _jsxs(View, {\n          style: styles.eventContainer,\n          children: [_jsx(Image, {\n            source: {\n              uri: picture\n            },\n            style: styles.eventImage\n          }), _jsxs(View, {\n            style: styles.eventDetails,\n            children: [_jsx(Text, {\n              style: styles.eventTitle,\n              children: item.title\n            }), _jsx(Text, {\n              style: styles.eventDescription,\n              children: item.description\n            })]\n          }), _jsx(View, {\n            style: styles.likeCommentContainer,\n            children: _jsx(TouchableOpacity, {\n              style: styles.likeButton,\n              children: _jsxs(Text, {\n                style: styles.buttonText,\n                children: [\"Interested (\", likes, \")\"]\n              })\n            })\n          })]\n        })]\n      }, index);\n    })\n  });\n};\nexport default EventBox;","map":{"version":3,"names":["React","useState","useEffect","View","Text","Image","TouchableOpacity","Modal","TouchableHighlight","styles","useNavigation","db","ref","onValue","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EventBox","_ref","title","description","publisher","likes","picture","navigation","_useState","_useState2","_slicedToArray","modalVisible","setModalVisible","_useState3","_useState4","selectedEvent","setSelectedEvent","_useState5","_useState6","todoData","setTodoData","postCountRef","snapshot","data","val","newPost","Object","keys","map","key","_objectSpread","id","console","log","children","item","index","style","boxContainer","onPress","profileContainer","source","uri","userPic","profileImage","publisherName","user","eventContainer","eventImage","eventDetails","eventTitle","eventDescription","likeCommentContainer","likeButton","buttonText"],"sources":["C:/Users/Onur/event-planner/screens/Events/Events.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport { View, Text, Image, TouchableOpacity, Modal, TouchableHighlight } from 'react-native';\r\nimport styles from './styles';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { db } from '../../firebase';\r\nimport {ref,onValue} from 'firebase/database'\r\n\r\nconst EventBox = ({ title, description, publisher, likes, picture }) => {\r\n  const navigation = useNavigation();\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n  const [todoData,setTodoData] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    const postCountRef = ref(db, 'posts/');\r\n    onValue(postCountRef,(snapshot) =>{\r\n      const data = snapshot.val();\r\n      const newPost = Object.keys(data).map(key => ({\r\n        id:key,\r\n        ...data[key] \r\n      }));\r\n      console.log(newPost);\r\n      setTodoData(newPost);\r\n    })\r\n  }, [])\r\n \r\n\r\n  return (\r\n    <>\r\n    { todoData.map((item,index) =>{\r\n      return(\r\n      <TouchableOpacity style={styles.boxContainer} key={index} onPress={() => setModalVisible(true)}>\r\n        <View style={styles.profileContainer}>\r\n          <Image source={{ uri: item.userPic }} style={styles.profileImage} />\r\n          <Text style={styles.publisherName}>{item.user}</Text>\r\n        </View>\r\n        <View style={styles.eventContainer}>\r\n          <Image source={{ uri: picture }} style={styles.eventImage} />\r\n          <View style={styles.eventDetails}>\r\n            <Text style={styles.eventTitle}>{item.title}</Text>\r\n            <Text style={styles.eventDescription}>{item.description}</Text>\r\n          </View>\r\n          <View style={styles.likeCommentContainer}>\r\n            <TouchableOpacity style={styles.likeButton}>\r\n              <Text style={styles.buttonText}>Interested ({likes})</Text>\r\n            </TouchableOpacity>\r\n            \r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n      )\r\n      })}\r\n  \r\n    </>\r\n  );\r\n};\r\n\r\n\r\nexport default EventBox;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}