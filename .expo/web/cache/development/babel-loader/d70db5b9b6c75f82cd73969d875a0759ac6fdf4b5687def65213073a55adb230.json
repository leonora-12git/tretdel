{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport styles from \"./styles\";\nimport { db } from \"../../firebase\";\nimport { ref, onValue } from 'firebase/database';\nimport userPic from \"../../assets/userdefaulticon.jpg\";\nimport { AntDesign } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar EventBox = function EventBox() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    todoData = _useState2[0],\n    setTodoData = _useState2[1];\n  useEffect(function () {\n    var postCountRef = ref(db, 'posts/');\n    onValue(postCountRef, function (snapshot) {\n      var data = snapshot.val();\n      var newPost = Object.keys(data).map(function (key) {\n        return _objectSpread(_objectSpread({\n          id: key\n        }, data[key]), {}, {\n          pressed: false\n        });\n      });\n      console.log(newPost);\n      setTodoData(newPost);\n    });\n  }, []);\n  var handleLikeButtonPress = function handleLikeButtonPress(itemId) {\n    setTodoData(function (prevData) {\n      return prevData.map(function (item) {\n        return item.id === itemId ? _objectSpread(_objectSpread({}, item), {}, {\n          pressed: !item.pressed\n        }) : item;\n      });\n    });\n  };\n  return _jsx(ScrollView, {\n    children: todoData.map(function (item, index) {\n      return _jsxs(TouchableOpacity, {\n        style: styles.boxContainer,\n        children: [_jsxs(View, {\n          style: styles.profileContainer,\n          children: [_jsx(Image, {\n            source: {\n              uri: userPic\n            },\n            style: styles.profileImage\n          }), _jsx(Text, {\n            style: styles.publisherName,\n            children: item.user\n          })]\n        }), _jsxs(View, {\n          style: styles.eventContainer,\n          children: [_jsxs(View, {\n            style: styles.eventDetails,\n            children: [_jsx(Text, {\n              style: styles.eventTitle,\n              children: item.title\n            }), _jsx(Text, {\n              style: styles.eventDescription,\n              children: item.description\n            })]\n          }), _jsx(View, {\n            style: styles.likeCommentContainer,\n            children: _jsx(TouchableOpacity, {\n              style: styles.likeButton,\n              onPress: function onPress() {\n                return handleLikeButtonPress(item.id);\n              },\n              children: _jsxs(Text, {\n                style: styles.buttonText,\n                children: [\"Interested\", ' ', _jsx(AntDesign, {\n                  name: item.pressed ? 'heart' : 'hearto',\n                  size: 16,\n                  color: \"white\"\n                })]\n              })\n            })\n          })]\n        })]\n      }, index);\n    })\n  });\n};\nexport default EventBox;","map":{"version":3,"names":["React","useState","useEffect","View","Text","Image","TouchableOpacity","Modal","TouchableHighlight","ScrollView","styles","db","ref","onValue","userPic","AntDesign","jsx","_jsx","jsxs","_jsxs","EventBox","_useState","_useState2","_slicedToArray","todoData","setTodoData","postCountRef","snapshot","data","val","newPost","Object","keys","map","key","_objectSpread","id","pressed","console","log","handleLikeButtonPress","itemId","prevData","item","children","index","style","boxContainer","profileContainer","source","uri","profileImage","publisherName","user","eventContainer","eventDetails","eventTitle","title","eventDescription","description","likeCommentContainer","likeButton","onPress","buttonText","name","size","color"],"sources":["C:/Users/Onur/event-planner/screens/Events/Events.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, Image, TouchableOpacity, Modal, TouchableHighlight, ScrollView } from 'react-native';\r\nimport styles from './styles';\r\nimport { db } from '../../firebase';\r\nimport { ref, onValue } from 'firebase/database';\r\nimport userPic from '../../assets/userdefaulticon.jpg';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nconst EventBox = () => {\r\n  const [todoData, setTodoData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const postCountRef = ref(db, 'posts/');\r\n    onValue(postCountRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      const newPost = Object.keys(data).map((key) => ({\r\n        id: key,\r\n        ...data[key],\r\n        pressed: false,\r\n      }));\r\n      console.log(newPost);\r\n      setTodoData(newPost);\r\n    });\r\n  }, []);\r\n\r\n  const handleLikeButtonPress = (itemId) => {\r\n    setTodoData((prevData) =>\r\n      prevData.map((item) =>\r\n        item.id === itemId ? { ...item, pressed: !item.pressed } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <ScrollView>\r\n      {todoData.map((item, index) => {\r\n        return (\r\n          <TouchableOpacity style={styles.boxContainer} key={index}>\r\n            <View style={styles.profileContainer}>\r\n              <Image source={{ uri: userPic }} style={styles.profileImage} />\r\n              <Text style={styles.publisherName}>{item.user}</Text>\r\n            </View>\r\n            <View style={styles.eventContainer}>\r\n              <View style={styles.eventDetails}>\r\n                <Text style={styles.eventTitle}>{item.title}</Text>\r\n                <Text style={styles.eventDescription}>{item.description}</Text>\r\n              </View>\r\n              <View style={styles.likeCommentContainer}>\r\n                <TouchableOpacity\r\n                  style={styles.likeButton}\r\n                  onPress={() => handleLikeButtonPress(item.id)}\r\n                >\r\n                  <Text style={styles.buttonText}>\r\n                    Interested{' '}\r\n                    <AntDesign\r\n                      name={item.pressed ? 'heart' : 'hearto'}\r\n                      size={16}\r\n                      color=\"white\"\r\n                    />\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n        );\r\n      })}\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nexport default EventBox;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}